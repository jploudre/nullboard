<!doctype html>
<html>
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Stickies Kanban Board</title>
  <link rel="stylesheet" href="espyfonts.css">
  <link rel="stylesheet" href="boardstyles.css">
  <style>
</style>

</head>
<body>
	<header>
		<div class="container">
			<nav class="menu">
				<ul>
					<li><a href="#"><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABMAAAATCAYAAAByUDbMAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH3wIQEiomp6E+bgAAAHdJREFUOMvtkssRgCAMRF8cK6EVS5GybIVWaCVe9CDgJP5GD+6NTHhk2cBrSigJ/RBohRkS1+Vh6WvVTJjXTgGsYKoOO9Ieorsz7L6qxPOwU5Pp2P6KynvGv0sBIwAAZXIBhSiPBbC/tGRjuiAH38q6hZbnX1c1Ax//IvZpwr+QAAAAAElFTkSuQmCC" class="icon" alt=""/></a></li>
					<li class="file-menu">
						<a href="#">File</a>
						<div class="file-dropdown">
							<a href="#" class='add-note-first'>New Note on first list</a>
							<div class='menu-divider'></div>
							<a href="#" class="add-board">New Kanban Board</a>
							<a href="#" class='exp-board'>Export board...</a>
							<a href="#" class='sync-gists'><span class='sync-indicator'></span>Sync (Github Gists)...</a>
							<div class='menu-divider'></div>
							<a href="#" class='del-board warn'>Delete Board...</a>
						</div>
					</li>
					<li class="edit-menu">
						<a href="#">Edit</a>
						<div class="edit-dropdown">
							<a href="#" class='undo-board'>Undo</a>
							<a href="#" class='redo-board'>Redo</a>
							<div class='menu-divider'></div>
							<a href="#" class='add-list'>Add List</a>
						</div>
					</li>
					<li class="color-menu">
						<a href="#">Color</a>
						<div class="color-dropdown">
							<a href="#" class='set-color' data-color='yellow'><span class='color-swatch' data-color='yellow'></span>Yellow</a>
							<a href="#" class='set-color' data-color='blue'><span class='color-swatch' data-color='blue'></span>Blue</a>
							<a href="#" class='set-color' data-color='green'><span class='color-swatch' data-color='green'></span>Green</a>
							<a href="#" class='set-color' data-color='pink'><span class='color-swatch' data-color='pink'></span>Pink</a>
							<a href="#" class='set-color' data-color='purple'><span class='color-swatch' data-color='purple'></span>Purple</a>
							<a href="#" class='set-color' data-color='gray'><span class='color-swatch' data-color='gray'></span>Gray</a>
						</div>
					</li>
					<li class="windows-menu">
						<a href="#">Boards</a>
						<div class="boards-dropdown">
							<!-- boards will be populated here -->
						</div>
					</li>
				</ul>
			</nav>
			<nav class="menu right">
				<ul>
					<li><a href="#">Sticky Kanban Board</a></li>
				</ul>
			</nav>
		</div>
	</header>

	<div class="wrap">
	</div>

	<div id="templates">
		<!-- audio files -->
		<audio id="soundPopr" preload="auto">
			<source src="data:audio/wav;base64,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" type="audio/wav">
		</audio>

		<!-- templates -->
		<div class="board window window-focus">
			<div class="window-title head">
				<span class="title"><span class="text board-title-display"></span></span>
				<input class="edit" spellcheck="false" placeholder='Name of the board'>
			</div>
			<div class="window-content">
				<div class="lists-scroller"><div></div></div>
				<div class="lists">
				</div>
			</div>
		</div>

		<div class="list">
			<div class="inner">
				<div class="head">
					<div class="text"></div>
					<input class="edit" spellcheck="false" placeholder='Name of the list'>
					<div class="menu">
						<a href="#" class="teaser">&equiv;</a>
						<div class="bulk">
							<a href="#" class='del-list warn'><u></u> List</a>
							<a href="#" class='mov-list-l full'>&lt; Move</a>
							<a href="#" class='mov-list-l half'>&lt; Mo</a><a href="#" class='mov-list-r half'>ve &gt;</a>
							<a href="#" class='mov-list-r full'>Move &gt;</a>
							<a href="#" class='add-note'>+ Note</a>
						</div>
					</div>
				</div>
				<div class="notes">
				</div>
			</div>
		</div>

		<div class="note">
			<div class="titlebar"></div>
			<a href="#" class="note-icon"></a>
			<div class="text"> </div>
			<textarea class="edit" spellcheck="false"></textarea>
		</div>

		<a href="#" class="load-board"></a>

		<textarea class="encoder"></textarea>

	</div>

</body>

<script type="text/javascript" src="cash.min.js"></script>

<script type="text/javascript">

	Number.prototype.clamp = function(min, max)
	{
		return Math.min(Math.max(this, min), max);
	};

	/*
	 *	add a blank line to push 'Prevent this page from opening ...'
	 *	tack-on from the actual message we are trying to display
	 */
	var confirm_org = window.confirm;
	var alert_org   = window.alert;
	window.confirm = function(msg) { return confirm_org(msg + "\n "); }
	window.alert   = function(msg) { return alert_org  (msg + "\n "); }

</script>

<script type="text/javascript" src="board.js"></script>

<script type="text/javascript">

	function Note(text, color)
	{
		this.text = text;
		this.color = color || 'gray';
	}

	function List(title)
	{
		this.title = title;
		this.notes = [ ];

		this.addNote = function(text, color)
		{
			var x = new Note(text, color);
			this.notes.push(x);
			return x;
		}
	}

	function Board(title)
	{
		this.format   = SKB.blobVersion;
		this.id       = +new Date();
		this.revision = 0;
		this.title    = title || '';
		this.lists    = [ ];

		this.addList = function(title)
		{
			var x = new List(title);
			this.lists.push(x);
			return x;
		}
	}

</script>

<script type="text/javascript" src="drag.js"></script>

<script type="text/javascript">

	function VarAdjust()
	{
		// state
		this.onChange = null;
		this.onFinish = null;
		this.startY = 0;
		this.used = false;

		// api
		this.start = function(ev, onChange, onFinish)
		{
			if (! onChange)
				return;

			this.onChange = onChange;
			this.onFinish = onFinish;
			this.startY = ev.clientY;
			this.used = false;

			var self = this;
			setTimeout(function(){
				if (! self.onChange)
					return;
				$('body').addClass('adjusting');
				self.used = true;
			}, 250);
		}

		this.onMouseMove = function(ev)
		{
			if (! this.onChange)
				return;

			$('body').addClass('adjusting');
			self.used = true;
			this.onChange(ev.clientY - this.startY);
		}

		this.end = function()
		{
			if (! this.onChange)
				return;

			$('body').removeClass('adjusting');
			this.onChange = null;

			if (this.onFinish) this.onFinish();
		}
	}

</script>

<script type="text/javascript" src="sync-gist.js"></script>
<script type="text/javascript" src="sync-ui.js"></script>

<script type="text/javascript" src="functions.js"></script>

</html>
